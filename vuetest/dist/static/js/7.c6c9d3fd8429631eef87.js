webpackJsonp([7],{"8JOR":function(t,e){},st36:function(t,e){},zbAf:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("oVO8"),a={data:function(){return{list:{cid:"",position_title:"",number:"",position_desc:"",salary:"",standard_company:"",other:""},options:[],name:"",edit:!0,state2:"",isClick:!1,isConclick:!1}},mounted:function(){var t=JSON.parse(sessionStorage.getItem("job"));if(t){for(var e in this.list)this.list[e]=t[e];this.list.id=t.id,this.edit=!1}else sessionStorage.removeItem("customerInfo");this.getCompany()},destroyed:function(){sessionStorage.removeItem("job")},methods:{delJob:function(){var t=this;this.$confirm("是否删除该职位?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.post(s.a+"/api/Position/delete?id="+t.list.id).then(function(e){200==e.data.code?(t.$message({type:"success",message:"删除成功！"}),history.go(-1)):t.$alert(e.data.error,"温馨提示",{confirmButtonText:"确定",callback:function(){}})})}).catch(function(){t.$message({type:"info",message:"已取消操作"})})},querySearch:function(t,e){var i=this.options;e(t?i.filter(this.createFilter(t)):i)},createFilter:function(t){return function(e){return-1!==e.value.toLowerCase().indexOf(t.toLowerCase())}},handleSelect:function(t){this.list.cid=t.id},back:function(){history.go(-1)},scroll:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},continueSave:function(){var t=this;this.isConclick=!0,this.$http.post(s.a+"/api/Position/addPosition",this.list).then(function(e){if(200==e.data.code){for(var i in t.list)"cid"!=i&&(t.list[i]="");t.scroll(),t.isConclick=!1,t.$message({type:"success",message:"保存成功！"})}else t.isConclick=!1,t.$alert(e.data.error,"温馨提示",{confirmButtonText:"确定",callback:function(){}})})},save:function(){var t=this;if(!this.list.cid)return this.$alert("请选择公司","温馨提示",{confirmButtonText:"确定",callback:function(){}}),!1;this.isClick=!0,sessionStorage.getItem("job")?this.$http.post(s.a+"/api/Position/editPosition",this.list).then(function(e){200==e.data.code?(history.go(-1),t.$message({type:"success",message:"保存成功！"})):(t.isClick=!1,t.$alert(e.data.error,"温馨提示",{confirmButtonText:"确定",callback:function(){}}))}):this.$http.post(s.a+"/api/Position/addPosition",this.list).then(function(e){200==e.data.code?(history.go(-1),t.$message({type:"success",message:"保存成功！"})):(t.isClick=!1,t.$alert(e.data.error,"温馨提示",{confirmButtonText:"确定",callback:function(){}}))})},addCustomer:function(){this.$router.push("/admin/customer/company")},getCompany:function(){var t=this;this.$http.get(s.a+"/api/Customer/getCustomerList").then(function(e){if(200==e.data.code){t.options=e.data.data;for(var i=0;i<t.options.length;i++)t.list.cid==t.options[i].id&&(t.name=t.options[i].enterprise_name),t.options[i].value=t.options[i].enterprise_name}else t.$alert(e.data.error,"温馨提示",{confirmButtonText:"确定",callback:function(){}})})}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"box",staticClass:"customer"},[i("span",{staticStyle:{display:"none"},attrs:{id:"top"}}),t._v(" "),i("div",{staticClass:"clearfix"},[i("el-button",{staticClass:"fl",staticStyle:{width:"100px","margin-bottom":"20px"},attrs:{type:"warning",plain:""},on:{click:t.back}},[t._v("返回")]),t._v(" "),t.list.id?i("el-button",{staticStyle:{width:"100px","margin-bottom":"20px"},attrs:{type:"primary"},on:{click:t.delJob}},[t._v("删除")]):t._e()],1),t._v(" "),i("div",{staticClass:"top"},[i("span",[t._v("所属公司名称:")]),t._v(" "),t.edit?i("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":t.querySearch,placeholder:"请输入内容"},on:{select:t.handleSelect},model:{value:t.state2,callback:function(e){t.state2=e},expression:"state2"}}):i("span",{staticStyle:{color:"#20a0ff"}},[t._v(" "+t._s(t.name))]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.addCustomer}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"margin-right":"10px"}}),t._v("新增客户")])],1),t._v(" "),i("table",{staticStyle:{"border-collapse":"collapse"},attrs:{border:"1",align:"center",cellspacing:"0"}},[i("tr",[i("td",[t._v("职位名称:")]),t._v(" "),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.list.position_title,expression:"list.position_title"}],attrs:{type:"text"},domProps:{value:t.list.position_title},on:{input:function(e){e.target.composing||t.$set(t.list,"position_title",e.target.value)}}})]),t._v(" "),i("td",[t._v("需要人数:")]),t._v(" "),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.list.number,expression:"list.number"}],attrs:{type:"text"},domProps:{value:t.list.number},on:{input:function(e){e.target.composing||t.$set(t.list,"number",e.target.value)}}})])]),t._v(" "),t._m(0),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"},attrs:{colspan:"4"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.list.position_desc,expression:"list.position_desc"}],staticStyle:{height:"200px"},attrs:{type:"text"},domProps:{value:t.list.position_desc},on:{input:function(e){e.target.composing||t.$set(t.list,"position_desc",e.target.value)}}})])]),t._v(" "),t._m(1),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"},attrs:{colspan:"4"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.list.salary,expression:"list.salary"}],staticStyle:{height:"100px"},attrs:{type:"text"},domProps:{value:t.list.salary},on:{input:function(e){e.target.composing||t.$set(t.list,"salary",e.target.value)}}})])]),t._v(" "),t._m(2),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"},attrs:{colspan:"4"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.list.standard_company,expression:"list.standard_company"}],attrs:{type:"text"},domProps:{value:t.list.standard_company},on:{input:function(e){e.target.composing||t.$set(t.list,"standard_company",e.target.value)}}})])]),t._v(" "),t._m(3),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"},attrs:{colspan:"4"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.list.other,expression:"list.other"}],attrs:{type:"text"},domProps:{value:t.list.other},on:{input:function(e){e.target.composing||t.$set(t.list,"other",e.target.value)}}})])]),t._v(" "),t._m(4)]),t._v(" "),i("div",{staticClass:"btn"},[t.isClick?i("el-button",{staticStyle:{width:"100px","margin-bottom":"20px"},attrs:{type:"primary"}},[t._v("保存")]):i("el-button",{staticStyle:{width:"100px","margin-bottom":"20px"},attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")]),t._v(" "),t.isConclick||t.list.id?t._e():i("el-button",{staticStyle:{width:"100px","margin-bottom":"20px"},attrs:{type:"primary"},on:{click:t.continueSave}},[t._v("继续添加")]),t._v(" "),t.isConclick?i("el-button",{staticStyle:{width:"100px","margin-bottom":"20px"},attrs:{type:"primary"}},[t._v("继续添加")]):t._e()],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticStyle:{"text-align":"left"},attrs:{colspan:"4"}},[this._v("职位描述：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticStyle:{"text-align":"left"},attrs:{colspan:"4"}},[this._v("薪酬待遇：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticStyle:{"text-align":"left"},attrs:{colspan:"4"}},[this._v("对标公司：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticStyle:{"text-align":"left"},attrs:{colspan:"4"}},[this._v("其他要求：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",{staticClass:"foot"},[e("td"),this._v(" "),e("td"),this._v(" "),e("td"),this._v(" "),e("td")])}]};var n=i("VU/8")(a,o,!1,function(t){i("8JOR"),i("st36")},"data-v-6d0d29c2",null);e.default=n.exports}});
//# sourceMappingURL=7.c6c9d3fd8429631eef87.js.map